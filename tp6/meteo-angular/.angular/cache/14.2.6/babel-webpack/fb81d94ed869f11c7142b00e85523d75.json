{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/meteo.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction MeteoDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"nav\", 3)(2, \"ol\", 4)(3, \"li\", 5)(4, \"a\", 6);\n    i0.ɵɵtext(5, \"\\uD83C\\uDFE0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"li\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"img\", 10);\n    i0.ɵɵelementStart(13, \"div\", 11)(14, \"h5\", 12);\n    i0.ɵɵelement(15, \"i\", 13);\n    i0.ɵɵtext(16);\n    i0.ɵɵelement(17, \"i\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\", 15);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"ul\", 16)(21, \"li\", 17);\n    i0.ɵɵelement(22, \"i\", 18);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"li\", 17);\n    i0.ɵɵelement(25, \"i\", 19);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"li\", 17);\n    i0.ɵɵelement(28, \"i\", 20);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"li\", 17);\n    i0.ɵɵelement(31, \"i\", 21);\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"li\", 17);\n    i0.ɵɵelement(35, \"i\", 22);\n    i0.ɵɵtext(36);\n    i0.ɵɵpipe(37, \"date\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"M\\u00E9t\\u00E9o pour \", ctx_r0.meteo.name, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.meteo.name, \" @\", i0.ɵɵpipeBind2(11, 12, ctx_r0.meteo.dt, \"H:mm\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate2(\"src\", \"https://maps.googleapis.com/maps/api/staticmap?markers=\", ctx_r0.meteo.coord.lat, \",\", ctx_r0.meteo.coord.lon, \"&zoom=5&size=400x300&scale=2&key=AIzaSyAkmvI9DazzG9p77IShsz_Di7-5Qn7zkcg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.meteo.main.temp, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.meteo.weather[0].description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Nuage: \", ctx_r0.meteo.clouds.all, \"% \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Humidit\\u00E9: \", ctx_r0.meteo.main.humidity, \"% \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Vent: \", ctx_r0.meteo.wind.speed, \" km/h \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Lev\\u00E9 du soleil: \", i0.ɵɵpipeBind2(33, 15, ctx_r0.meteo.sys.sunrise, \"HH:mm\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Couch\\u00E9 du soleil: \", i0.ɵɵpipeBind2(37, 18, ctx_r0.meteo.sys.sunset, \"HH:mm\"), \" \");\n  }\n}\n\nfunction MeteoDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r1.meteo.message, \" (erreur \", ctx_r1.meteo.cod, \") \");\n  }\n}\n\nfunction MeteoDetailComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"img\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11)(5, \"h5\", 12);\n    i0.ɵɵelement(6, \"i\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵelement(8, \"i\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 15);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"ul\", 16)(12, \"li\", 17);\n    i0.ɵɵelement(13, \"i\", 28);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"li\", 17);\n    i0.ɵɵelement(17, \"i\", 18);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"li\", 17);\n    i0.ɵɵelement(20, \"i\", 19);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"li\", 17);\n    i0.ɵɵelement(23, \"i\", 20);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"li\", 17);\n    i0.ɵɵelement(26, \"i\", 29);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"li\", 17);\n    i0.ɵɵelement(29, \"i\", 30);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const element_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.meteo.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://openweathermap.org/img/w/\", element_r4.weather[0].icon, \".png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", element_r4.main.temp, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(element_r4.weather[0].description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Date: \", i0.ɵɵpipeBind2(15, 10, element_r4.dt_txt, \"dd-MM-YYY\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Nuage: \", element_r4.clouds.all, \"% \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Humidit\\u00E9: \", element_r4.main.humidity, \"% \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Vent: \", element_r4.wind.speed, \" km/h \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Temperature min: \", element_r4.main.temp_min, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Temperature max: \", element_r4.main.temp_max, \" \");\n  }\n}\n\nfunction MeteoDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, MeteoDetailComponent_div_2_div_1_Template, 31, 13, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.meteos);\n  }\n}\n\nexport let MeteoDetailComponent = /*#__PURE__*/(() => {\n  class MeteoDetailComponent {\n    constructor(route, meteoService, location) {\n      this.route = route;\n      this.meteoService = meteoService;\n      this.location = location;\n    }\n\n    ngOnInit() {\n      this.getMeteo();\n    }\n\n    hours() {}\n\n    filter(listmeteo) {\n      var dict = [];\n      listmeteo.list.forEach(element => {\n        if (listmeteo.list.indexOf(element) % 8 == 0) {\n          console.log(listmeteo.list.indexOf(element));\n          let temperature = element.main.temp;\n          element.main.temp = element.main.temp - 273.15;\n          element.main.temp_min = element.main.temp_min - 273.15;\n          element.main.temp_max = element.main.temp_max - 273.15;\n          element.sunrise = listmeteo.city.sunrise;\n          element.sunset = listmeteo.city.sunset;\n          element.main.temp = parseFloat(element.main.temp).toFixed(2);\n          element.main.temp_min = parseFloat(element.main.temp_min).toFixed(2);\n          element.main.temp_max = parseFloat(element.main.temp_max).toFixed(2);\n          dict.push(element);\n        }\n      });\n      console.log(\"table = \" + dict[0].weather[0].icon);\n      return dict;\n    }\n\n    getMeteo() {\n      const name = this.route.snapshot.paramMap.get('name'); // pour lire la paramètre 'name' dans l'URL de la page  comme définit dans le router avec\n      // path: 'meteo/:name'\n\n      if (name) {\n        this.meteoService.getMeteo(name).then(meteo => this.meteo = meteo).catch(fail => this.meteo = fail);\n        this.meteoService.getMeteoOn(name).then(meteos => this.meteos = this.filter(meteos)).catch(fail => this.meteos = fail);\n      }\n    }\n\n  }\n\n  MeteoDetailComponent.ɵfac = function MeteoDetailComponent_Factory(t) {\n    return new (t || MeteoDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MeteoService), i0.ɵɵdirectiveInject(i3.Location));\n  };\n\n  MeteoDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MeteoDetailComponent,\n    selectors: [[\"app-meteo-detail\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5\", 4, \"ngIf\"], [\"aria-label\", \"breadcrumb\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/\"], [\"aria-current\", \"page\", 1, \"breadcrumb-item\", \"active\"], [\"v-if\", \"meteo\", 1, \"card\", 2, \"width\", \"300px\", \"margin\", \"0 auto\"], [1, \"card-header\"], [\"alt\", \"Card image cap\", 1, \"card-img-top\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [\"v-bind:class\", \"'wi wi-owm-day-'+meteo.weather[0].id\"], [1, \"wi\", \"wi-celsius\"], [1, \"card-text\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [1, \"wi\", \"wi-cloud\"], [1, \"wi\", \"wi-humidity\"], [1, \"wi\", \"wi-windy\"], [1, \"wi\", \"wi-sunrise\"], [1, \"wi\", \"wi-sunset\"], [1, \"alert\", \"alert-danger\"], [1, \"row\", \"row-cols-1\", \"row-cols-sm-2\", \"row-cols-md-3\", \"row-cols-lg-4\", \"row-cols-xl-5\"], [\"class\", \"card col mb-4 mt-4\", \"style\", \"padding: 0px;\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"col\", \"mb-4\", \"mt-4\", 2, \"padding\", \"0px\"], [\"id\", \"wicon\", \"alt\", \"Weather icon\", 3, \"src\"], [1, \"wi\", \"wi-moon-new\"], [1, \"wi\", \"wi-thermometer-exterior\"], [1, \"wi\", \"wi-thermometer\"]],\n    template: function MeteoDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, MeteoDetailComponent_div_0_Template, 38, 21, \"div\", 0);\n        i0.ɵɵtemplate(1, MeteoDetailComponent_div_1_Template, 2, 2, \"div\", 1);\n        i0.ɵɵtemplate(2, MeteoDetailComponent_div_2_Template, 2, 1, \"div\", 2);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.meteo && ctx.meteo.cod === 200);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.meteo && ctx.meteo.cod !== 200);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.meteo && ctx.meteo.cod === 200);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i1.RouterLinkWithHref, i3.DatePipe]\n  });\n  return MeteoDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}